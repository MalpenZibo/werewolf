(this.webpackJsonpwherewolf=this.webpackJsonpwherewolf||[]).push([[0],{142:function(e,t,n){},143:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var r=n(34),a=n(33),i=n.n(a),c=(n(142),n(0)),o=(n(143),n(4)),l=n(1),s=n(2),j=Object(l.createContext)(o.option.none);function u(e){var t=e.basepath,n=e.children;return Object(s.jsx)(j.Provider,{value:o.option.some({basepath:t}),children:n})}var d=n(20),p=n(221),b=n(211),f=n(212),m=n(172),O=n(125),h=n(213),x=n(207),y=n(224),g=n(202),v=n(203),w=n(204),D=n(205),C=n(206);function S(e){return Object(s.jsxs)(y.a,{open:e.open,onClose:e.onCancel,children:[Object(s.jsx)(g.a,{children:e.title}),Object(s.jsx)(v.a,{children:Object(s.jsx)(w.a,{children:e.content})}),Object(s.jsxs)(D.a,{children:[Object(s.jsx)(C.a,{autoFocus:!0,onClick:e.onCancel,color:"primary",children:Object(s.jsx)(x.a,{id:e.cancelLabel?e.cancelLabel:"cancel"})}),Object(s.jsx)(C.a,{onClick:e.onConfirm,color:"primary",children:Object(s.jsx)(x.a,{id:e.confirmLabel?e.confirmLabel:"ok"})})]})]})}var I=n(53),k=n(12),W=n(23),N=n(96),P={primaryWolf:{id:"primaryWolf",aura:"dark",mystical:!1,faction:"wolf",fitness:100},secondaryWolf:{id:"secondaryWolf",aura:"dark",mystical:!1,faction:"wolf",fitness:75},youngWolf:{id:"youngWolf",aura:"dark",mystical:!1,faction:"wolf",fitness:50},traitor:{id:"traitor",aura:"light",mystical:!1,faction:"wolf",fitness:30},seer:{id:"seer",aura:"light",mystical:!0,faction:"village",fitness:100},wizard:{id:"wizard",aura:"light",mystical:!0,faction:"village",fitness:30},medium:{id:"medium",aura:"light",mystical:!0,faction:"village",fitness:30},witch:{id:"witch",aura:"light",mystical:!0,faction:"village",fitness:50},healer:{id:"healer",aura:"light",mystical:!0,faction:"village",fitness:40},farmer1:{id:"farmer1",aura:"light",mystical:!1,faction:"village",fitness:200},farmer2:{id:"farmer2",aura:"light",mystical:!1,faction:"village",fitness:200},innkeeper:{id:"innkeeper",aura:"light",mystical:!1,faction:"village",fitness:50},bard:{id:"bard",aura:"light",mystical:!1,faction:"village",fitness:50},monk:{id:"monk",aura:"light",mystical:!1,faction:"village",fitness:20},heremit:{id:"heremit",aura:"light",mystical:!1,faction:"village",fitness:20},priest:{id:"priest",aura:"light",mystical:!1,faction:"village",fitness:40},sinner:{id:"sinner",aura:"dark",mystical:!1,faction:"village",fitness:40},madman:{id:"madman",aura:"light",mystical:!1,faction:"general",fitness:20},jester:{id:"jester",aura:"light",mystical:!1,faction:"general",fitness:20}},A=W.h({primaryWolf:!0,secondaryWolf:!0,youngWolf:!0,traitor:!0,seer:!0,wizard:!0,medium:!0,witch:!0,healer:!0,farmer1:!0,farmer2:!0,innkeeper:!0,bard:!0,monk:!0,heremit:!0,priest:!0,sinner:!0,madman:!0,jester:!0}),E=Object(c.pipe)(P,o.record.toArray,o.array.map((function(e){return Object(d.a)(e,2)[1].faction})),o.array.uniq(k.Eq)),R=W.n({name:N.a}),M=W.n({player:R,roleId:A,alive:W.d}),T=W.h({showRole:!0,night:!0}),F=W.n({phase:T,playersData:W.c(M),nightNumber:W.j,healerUseHisAbility:W.d,farmerTurnedIntoWolves:W.c(R)});function L(e){for(var t,n,r=e.length,a=Object(I.a)(e);0!==r;)n=Math.floor(Math.random()*r),t=a[r-=1],a[r]=a[n],a[n]=t;return a}function z(e){return function(t){for(var n=0,r=Object(I.a)(t),a=function(){for(var t=n,a=Object(c.pipe)(r,o.array.reduceWithIndex(0,(function(n,r,a){return n>=t?r+e(a):r}))),i=Math.floor(Math.random()*a),l=0,s=n;s<r.length;s++)if((l+=e(r[s]))>i){var j=r[n];r[n]=r[s],r[s]=j}n+=1};n<r.length;)a();return r}}var H=["primaryWolf","secondaryWolf","youngWolf"],B=["seer","wizard"],_=["seer","wolves","wizard","medium","witch","healer"];var G=n(208);function q(e){var t=Object(l.useState)(0),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.pipe)(e.collection,o.array.lookup(r)),j=0===r,u=r===e.collection.length;return Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsx)(p.a,{mt:2,width:1,children:Object(c.pipe)(i,o.option.fold(Object(c.constant)(e.lastScreen),e.content))}),Object(s.jsx)(p.a,{mt:2,children:Object(s.jsxs)(G.a,{container:!0,spacing:2,children:[!j&&Object(s.jsx)(G.a,{item:!0,children:Object(s.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return r>0?a(r-1):{}},children:Object(s.jsx)(x.a,{id:"prev"})})}),!u&&Object(s.jsx)(G.a,{item:!0,children:Object(s.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return a(r+1)},children:Object(s.jsx)(x.a,{id:"next"})})}),u&&Object(s.jsx)(G.a,{item:!0,children:Object(s.jsx)(C.a,{variant:"contained",color:"primary",onClick:e.onProceed,children:Object(s.jsx)(x.a,{id:"start"})})})]})})]})}var U=n(226),V=n(227);function J(e){return Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",m:4,children:Object(s.jsx)(G.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:e.players.map((function(t){return Object(s.jsx)(G.a,{justifyContent:"center",alignItems:"center",container:!0,item:!0,xs:4,sm:3,md:2,lg:1,children:Object(s.jsx)(U.a,{label:t.name,avatar:Object(s.jsx)(V.a,{children:t.name[0]}),clickable:!0,color:"primary",onClick:function(){return e.onSelected(t)},variant:"outlined"})},t.name)}))})})}var K=n(117);function Q(){var e=Object(K.a)().formatMessage;return{formatName:function(t){switch(t){case"primaryWolf":return e({id:"role.primaryWolf.name"});case"secondaryWolf":return e({id:"role.secondaryWolf.name"});case"youngWolf":return e({id:"role.youngWolf.name"});case"traitor":return e({id:"role.traitor.name"});case"seer":return e({id:"role.seer.name"});case"wizard":return e({id:"role.wizard.name"});case"medium":return e({id:"role.medium.name"});case"witch":return e({id:"role.witch.name"});case"healer":return e({id:"role.healer.name"});case"farmer1":case"farmer2":return e({id:"role.farmer.name"});case"innkeeper":return e({id:"role.innkeeper.name"});case"bard":return e({id:"role.bard.name"});case"monk":return e({id:"role.monk.name"});case"heremit":return e({id:"role.heremit.name"});case"priest":return e({id:"role.priest.name"});case"sinner":return e({id:"role.sinner.name"});case"madman":return e({id:"role.madman.name"});case"jester":return e({id:"role.jester.name"})}},formatDescription:function(t){switch(t){case"primaryWolf":return e({id:"role.primaryWolf.description"});case"secondaryWolf":return e({id:"role.secondaryWolf.description"});case"youngWolf":return e({id:"role.youngWolf.description"});case"traitor":return e({id:"role.traitor.description"});case"seer":return e({id:"role.seer.description"});case"wizard":return e({id:"role.wizard.description"});case"medium":return e({id:"role.medium.description"});case"witch":return e({id:"role.witch.description"});case"healer":return e({id:"role.healer.description"});case"farmer1":case"farmer2":return e({id:"role.farmer.description"});case"innkeeper":return e({id:"role.innkeeper.description"});case"bard":return e({id:"role.bard.description"});case"monk":return e({id:"role.monk.description"});case"heremit":return e({id:"role.heremit.description"});case"priest":return e({id:"role.priest.description"});case"sinner":return e({id:"role.sinner.description"});case"madman":return e({id:"role.madman.description"});case"jester":return e({id:"role.jester.description"})}}}}function X(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(l.useState)(o.option.none),j=Object(d.a)(i,2),u=j[0],b=j[1],f=Q().formatName;return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:f("healer")})}),Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"healer"===e.roleId})),o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleNotPresent"})})),(function(t){return t.alive?Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsxs)(O.a,{variant:"h4",children:[Object(s.jsx)(x.a,{id:"role.healer.name"}),": ".concat(t.player.name)]}),Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.healer.action"})}),Object(s.jsx)(J,{players:Object(c.pipe)(e.playersDiedThisNight,o.array.filter((function(e){return e.name!==t.player.name}))),onSelected:function(e){b(o.option.some(e)),a(!0)}}),Object(c.pipe)(u,o.option.map((function(t){return Object(s.jsx)(S,{open:r,title:Object(s.jsx)(x.a,{id:"game.night.healer.confirmation.title"}),content:Object(s.jsx)(x.a,{id:"game.night.healer.confirmation.content",values:{name:t.name}}),onCancel:function(){b(o.option.none),a(!1)},onConfirm:function(){b(o.option.none),a(!1),e.onHealedByHealer(t)}})})),o.option.toNullable)]}):Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleDied"})})})})))]})}function Y(e){return Object(s.jsxs)(y.a,{open:e.open,onClose:e.onClose,children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(x.a,{id:"showAuraDialog.title",values:{name:e.player.name}})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(w.a,{children:Object(s.jsx)(x.a,{id:"dark"===e.aura?"dark":"light"})})}),Object(s.jsx)(D.a,{children:Object(s.jsx)(C.a,{autoFocus:!0,onClick:e.onClose,color:"primary",children:Object(s.jsx)(x.a,{id:"close"})})})]})}function Z(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(l.useState)(o.option.none),j=Object(d.a)(i,2),u=j[0],b=j[1],f=Q().formatName;return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:f("medium")})}),Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"medium"===e.roleId})),o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleNotPresent"})})),(function(t){return t.alive?Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsxs)(O.a,{variant:"h4",children:[Object(s.jsx)(x.a,{id:"role.medium.name"}),": ".concat(t.player.name)]}),Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.medium.action"})}),Object(s.jsx)(J,{players:Object(c.pipe)(e.playersData,o.array.filterMap((function(e){return"medium"===e.roleId||e.alive?o.option.none:o.option.some(e.player)}))),onSelected:function(e){b(o.option.some(e)),a(!0)}}),Object(c.pipe)(u,o.option.chain((function(t){return Object(c.pipe)(e.playersData,o.array.findFirstMap((function(e){return e.player.name===t.name?o.option.some({player:e.player,aura:P[e.roleId].aura}):o.option.none})))})),o.option.map((function(e){return Object(s.jsx)(Y,{open:r,player:e.player,aura:e.aura,onClose:function(){b(o.option.none),a(!1)}})})),o.option.toNullable)]}):Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleDied"})})})})))]})}function $(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(l.useState)(o.option.none),j=Object(d.a)(i,2),u=j[0],b=j[1],f=Q().formatName;return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:f("seer")})}),Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"seer"===e.roleId})),o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleNotPresent"})})),(function(t){return t.alive?Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsxs)(O.a,{variant:"h4",children:[Object(s.jsx)(x.a,{id:"role.seer.name"}),": ".concat(t.player.name)]}),Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.seer.action"})}),Object(s.jsx)(J,{players:Object(c.pipe)(e.playersData,o.array.filterMap((function(e){return"seer"!==e.roleId&&e.alive?o.option.some(e.player):o.option.none}))),onSelected:function(e){b(o.option.some(e)),a(!0)}}),Object(c.pipe)(u,o.option.chain((function(t){return Object(c.pipe)(e.playersData,o.array.findFirstMap((function(e){return e.player.name===t.name?o.option.some({player:e.player,aura:P[e.roleId].aura}):o.option.none})))})),o.option.map((function(e){return Object(s.jsx)(Y,{open:r,player:e.player,aura:e.aura,onClose:function(){b(o.option.none),a(!1)}})})),o.option.toNullable)]}):Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleDied"})})})})))]})}function ee(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(l.useState)(o.option.none),j=Object(d.a)(i,2),u=j[0],b=j[1],f=Q().formatName;return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:f("witch")})}),Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"witch"===e.roleId})),o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleNotPresent"})})),(function(t){return t.alive?Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsxs)(O.a,{variant:"h4",children:[Object(s.jsx)(x.a,{id:"role.medium.name"}),": ".concat(t.player.name)]}),Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.healer.action"})}),Object(s.jsx)(J,{players:Object(c.pipe)(e.playersData,o.array.filterMap((function(e){return e.alive?o.option.some(e.player):o.option.none}))),onSelected:function(e){b(o.option.some(e)),a(!0)}}),Object(c.pipe)(u,o.option.map((function(t){return Object(s.jsx)(S,{open:r,title:Object(s.jsx)(x.a,{id:"game.night.healer.confirmation.title"}),content:Object(s.jsx)(x.a,{id:"game.night.healer.confirmation.content",values:{name:t.name}}),onCancel:function(){b(o.option.none),a(!1)},onConfirm:function(){b(o.option.none),a(!1),e.onProtectedByWitch(t)}})})),o.option.toNullable)]}):Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleDied"})})})})))]})}function te(e){return Object(s.jsxs)(y.a,{open:e.open,onClose:e.onClose,children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(x.a,{id:e.mystical?"showMysticalDialog.mystical":"showMysticalDialog.nonMystical",values:{name:e.player.name}})}),Object(s.jsx)(D.a,{children:Object(s.jsx)(C.a,{autoFocus:!0,onClick:e.onClose,color:"primary",children:Object(s.jsx)(x.a,{id:"close"})})})]})}function ne(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(l.useState)(o.option.none),j=Object(d.a)(i,2),u=j[0],b=j[1],f=Q().formatName;return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:f("wizard")})}),Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"wizard"===e.roleId})),o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleNotPresent"})})),(function(t){return t.alive?Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsxs)(O.a,{variant:"h4",children:[Object(s.jsx)(x.a,{id:"role.wizard.name"}),": ".concat(t.player.name)]}),Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.wizard.action"})}),Object(s.jsx)(J,{players:Object(c.pipe)(e.playersData,o.array.filterMap((function(e){return"wizard"!==e.roleId&&e.alive?o.option.some(e.player):o.option.none}))),onSelected:function(e){b(o.option.some(e)),a(!0)}}),Object(c.pipe)(u,o.option.chain((function(t){return Object(c.pipe)(e.playersData,o.array.findFirstMap((function(e){return e.player.name===t.name?o.option.some({player:e.player,mystical:P[e.roleId].mystical}):o.option.none})))})),o.option.map((function(e){return Object(s.jsx)(te,{open:r,player:e.player,mystical:e.mystical,onClose:function(){b(o.option.none),a(!1)}})})),o.option.toNullable)]}):Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleDied"})})})})))]})}function re(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(l.useState)(o.option.none),j=Object(d.a)(i,2),u=j[0],b=j[1];return Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",children:Object(c.pipe)(e.playersData,o.array.filter((function(e){return Object(c.pipe)(H,o.array.findFirst((function(t){return t===e.roleId})),o.option.isSome)&&e.alive})),o.nonEmptyArray.fromArray,o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.night.roleNotPresent"})})),(function(t){return Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsxs)(O.a,{variant:"h4",children:[Object(s.jsx)(x.a,{id:"faction.wolf"}),": ".concat(Object(c.pipe)(t,o.nonEmptyArray.map((function(e){return e.player.name}))).join(", "))]}),Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:(e.doubleTurn,"game.night.wolves.action")})}),Object(s.jsx)(J,{players:Object(c.pipe)(e.playersData,o.array.filterMap((function(e){return e.alive?o.option.some(e.player):o.option.none}))),onSelected:function(e){b(o.option.some(e)),a(!0)}}),Object(c.pipe)(u,o.option.map((function(t){return Object(s.jsx)(S,{open:r,title:Object(s.jsx)(x.a,{id:"game.night.wolves.confirmation.title"}),content:Object(s.jsx)(x.a,{id:"game.night.wolves.confirmation.content",values:{name:t.name}}),onCancel:function(){b(o.option.none),a(!1)},onConfirm:function(){b(o.option.none),a(!1),e.onAttackedByWolves(t)}})})),o.option.toNullable)]})})))})}function ae(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(s.jsxs)(y.a,{open:!0,children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(x.a,{id:"farmerDeadDialog.title",values:{name:e.player.name}})}),Object(s.jsx)(v.a,{children:r?Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"farmerDeadDialog.showWolves",values:{name:e.player.name}})}),Object(s.jsx)(C.a,{onClick:e.onWolf,color:"primary",children:Object(s.jsx)(x.a,{id:"close"})})]}):Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(C.a,{onClick:e.onNormal,color:"primary",children:Object(s.jsx)(x.a,{id:"farmerDeadDialog.killButton"})}),Object(s.jsx)(C.a,{onClick:e.onHero,color:"primary",children:Object(s.jsx)(x.a,{id:"farmerDeadDialog.heroButton"})}),Object(s.jsx)(C.a,{onClick:function(){return a(!0)},color:"primary",children:Object(s.jsx)(x.a,{id:"farmerDeadDialog.wolfDescendant"})})]})})]})}function ie(e){return Object(s.jsxs)(y.a,{open:!0,children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(x.a,{id:"farmerDeadDialog.title",values:{name:e.player.name}})}),Object(s.jsx)(v.a,{children:Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"traitorDialog.showWolves",values:{name:e.player.name}})}),Object(s.jsx)(C.a,{onClick:e.onClose,color:"primary",children:Object(s.jsx)(x.a,{id:"close"})})]})})]})}function ce(e){var t,n=Object(l.useState)([]),r=Object(d.a)(n,2),a=r[0],i=r[1],j=Object(l.useState)(o.option.none),u=Object(d.a)(j,2),b=u[0],f=u[1],m=Object(l.useState)(o.option.none),h=Object(d.a)(m,2),y=h[0],g=h[1],v=Object(l.useState)(o.option.none),w=Object(d.a)(v,2),D=w[0],C=w[1],S=Object(l.useState)(!1),k=Object(d.a)(S,2),W=k[0],N=k[1];return Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsx)(p.a,{mt:2,children:Object(s.jsx)(O.a,{variant:"h5",children:Object(s.jsx)(x.a,{id:"game.night.title"})})}),Object(s.jsx)(p.a,{mt:2,width:1,children:Object(s.jsx)(q,{lastScreen:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.finish"})}),collection:1===e.nightNumber?B:_,content:(t={whenSeer:function(){return Object(s.jsx)($,{playersData:e.playersData})},whenWolves:function(){return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",children:[Object(s.jsx)(re,{playersData:Object(c.pipe)(e.playersData,o.array.filter((function(e){return Object(c.pipe)(a,o.array.findFirst((function(t){return t.name===e.player.name})),o.option.isNone)}))),doubleTurn:e.wolvesDoubleAttack,onAttackedByWolves:function(t){var n=Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"heremit"===e.roleId})),o.option.chain((function(e){return t.name===e.player.name?o.option.some(e):o.option.none}))),r=Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"traitor"===e.roleId})),o.option.chain((function(e){return t.name===e.player.name?o.option.some(e):o.option.none}))),l=Object(c.pipe)(e.playersData,o.array.findFirst((function(e){return"farmer1"===e.roleId||"farmer2"===e.roleId})),o.option.chain((function(e){return t.name===e.player.name?o.option.some(e):o.option.none})));o.option.isNone(n)&&Object(c.pipe)(l,o.option.fold((function(){return Object(c.pipe)(r,o.option.fold((function(){return i([].concat(Object(I.a)(a),[t]))}),(function(e){return g(o.option.some(e.player))})))}),(function(e){return f(o.option.some(e.player))})))}}),Object(c.pipe)(b,o.option.fold(c.constNull,(function(t){return Object(s.jsx)(ae,{player:t,onHero:function(){var n=Object(c.pipe)(e.playersData,o.array.filter((function(e){return Object(c.pipe)(H,o.array.findFirst((function(t){return t===e.roleId})),o.option.isSome)&&e.alive})),o.array.sortBy([Object(c.pipe)(o.number.Ord,o.ord.contramap((function(e){return function(e){switch(e){case"primaryWolf":return 1;case"secondaryWolf":return 2;case"farmer1":case"farmer2":return 3;case"youngWolf":return 4;default:return 99}}(e.roleId)})))]),o.array.head);i([].concat(Object(I.a)(a),[t],Object(I.a)(Object(c.pipe)(n,o.option.fold(Object(c.constant)([]),(function(e){return[e.player]})))))),f(o.option.none)},onNormal:function(){i([].concat(Object(I.a)(a),[t])),f(o.option.none)},onWolf:function(){C(o.option.some(t)),f(o.option.none)}})}))),Object(c.pipe)(y,o.option.fold(c.constNull,(function(e){return Object(s.jsx)(ie,{player:e,onClose:function(){return g(o.option.none)}})})))]})},whenWizard:function(){return Object(s.jsx)(ne,{playersData:e.playersData})},whenMedium:function(){return Object(s.jsx)(Z,{playersData:e.playersData})},whenWitch:function(){return Object(s.jsx)(ee,{playersData:e.playersData,onProtectedByWitch:function(e){return i(Object(c.pipe)(a,o.array.filter((function(t){return t.name!==e.name}))))}})},whenHealer:function(){return Object(s.jsx)(X,{playersData:e.playersData,playersDiedThisNight:a,onHealedByHealer:function(e){i(Object(c.pipe)(a,o.array.filter((function(t){return t.name!==e.name})))),N(!0)}})}},function(e){switch(e){case"seer":return t.whenSeer();case"wolves":return t.whenWolves();case"wizard":return t.whenWizard();case"medium":return t.whenMedium();case"witch":return t.whenWitch();case"healer":return t.whenHealer()}}),onProceed:function(){return e.onNightResult({killedPlayers:a,farmerIntoWolf:D,healerUseHisAbility:W})}})})]})}var oe=n(97);function le(e,t){return Object(c.pipe)(localStorage.getItem(e),o.option.fromNullable,o.option.chain(Object(c.flow)(o.json.parse,o.either.mapLeft((function(e){return console.error("Json parse error: ",e),e})),o.either.chainW(Object(c.flow)(t.decode,o.either.mapLeft((function(e){return console.error("Decoding error: ",Object(oe.failure)(e).join("\n")),e})))),o.option.fromEither)))}function se(e,t,n){return Object(c.pipe)(n,t.encode,o.json.stringify,o.either.bimap((function(e){return console.error(e),e}),(function(t){return localStorage.setItem(e,t)})))}function je(e){var t=Object(l.useState)(Object(c.pipe)(le("players",W.c(R)),o.option.map((function(e){return Object(c.pipe)(e,o.array.map((function(e){return{player:e,selected:!1}})))})))),n=Object(d.a)(t,2),a=n[0],i=n[1],j=Object(c.pipe)(a,o.option.map((function(e){return Object(c.pipe)(e,o.array.filter((function(e){return e.selected}))).length})),o.option.getOrElse(Object(c.constant)(0)));return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",m:4,children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.players.playerNumber",values:{amount:j,minAmount:4}})}),Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",m:4,children:Object(c.pipe)(a,o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h3",children:Object(s.jsx)(x.a,{id:"game.players.noPlayersDefined"})})),(function(e){return Object(s.jsx)(G.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:e.map((function(t){return Object(s.jsx)(G.a,{justifyContent:"center",alignItems:"center",container:!0,item:!0,xs:4,sm:3,md:2,lg:1,children:Object(s.jsx)(U.a,{label:t.player.name,avatar:Object(s.jsx)(V.a,{children:t.player.name[0]}),clickable:!0,color:"primary",onClick:function(){return i(Object(c.pipe)(e,o.array.findIndex((function(e){return e.player.name===t.player.name})),o.option.chain((function(t){return Object(c.pipe)(e,o.array.modifyAt(t,(function(e){return Object(r.a)(Object(r.a)({},e),{},{selected:!e.selected})})))}))))},variant:t.selected?"default":"outlined"})},t.player.name)}))})})))}),Object(s.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return e.onNext(Object(c.pipe)(a,o.option.map((function(e){return Object(c.pipe)(e,o.array.filterMap((function(e){return e.selected?o.option.some(e.player):o.option.none})))})),o.option.getOrElse(Object(c.constant)([]))))},disabled:j<4,children:Object(s.jsx)(x.a,{id:"next"})})]})}var ue=n(209),de=n(210),pe=n(126);function be(e){return Object(s.jsx)(pe.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M12 1.5c-5.398 0-9.75 4.352-9.75 9.602v4.273a2.53 2.53 0 002.55 2.55c.45 0 1.2.223 1.2.825V21c0 .3.227.602.523.75 1.801.602 3.676.898 5.477.898 1.8 0 3.676-.296 5.477-.898.296-.074.523-.375.523-.75v-2.25c0-.602.75-.824 1.2-.824a2.53 2.53 0 002.55-2.551v-4.273c0-5.25-4.352-9.602-9.75-9.602zM9.227 16.273l-.903.153c-.148 0-.3.074-.523.074-.602 0-1.125-.227-1.653-.602a2.666 2.666 0 01-.898-1.949v-.148A2.53 2.53 0 017.8 11.25h.9c.823 0 1.5.375 2.027.977.449.597.671 1.421.449 2.171-.227.977-1.051 1.653-1.95 1.875zm3.824 1.653c-.074.074-.153.074-.301.074-.3 0-.523-.148-.676-.45L12 17.399l-.074.153c-.153.375-.602.523-.977.3-.375-.152-.523-.601-.3-.976l.75-1.5c.226-.523 1.05-.523 1.351 0l.75 1.5c.074.375-.074.824-.45 1.05zm5.699-3.977c0 .75-.375 1.5-.898 1.95a2.632 2.632 0 01-1.653.601c-.148 0-.3 0-.523-.074l-.903-.153c-.972-.222-1.722-.898-1.949-1.875-.222-.75 0-1.574.45-2.171.453-.602 1.203-.977 2.027-.977h.898a2.53 2.53 0 012.551 2.55zm0 0"})}))}function fe(e){return Object(s.jsx)(pe.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsxs)("g",{children:[Object(s.jsx)("path",{d:"M23.887 11.586c-.192-.316-4.742-7.75-11.887-7.75-7.145 0-11.695 7.434-11.887 7.75a.807.807 0 000 .828c.192.316 4.742 7.75 11.887 7.75 7.145 0 11.695-7.434 11.887-7.75a.807.807 0 000-.828zM12 18.559c-5.336 0-9.21-5.063-10.238-6.559C2.789 10.5 6.652 5.441 12 5.441c5.336 0 9.21 5.063 10.238 6.559-1.027 1.5-4.89 6.559-10.238 6.559zm0 0"}),Object(s.jsx)("path",{d:"M12 6.598A5.406 5.406 0 006.598 12 5.409 5.409 0 0012 17.402 5.411 5.411 0 0017.402 12 5.406 5.406 0 0012 6.598zm0 9.199A3.801 3.801 0 018.203 12c0-2.094 1.703-3.8 3.797-3.8a3.804 3.804 0 013.797 3.8A3.801 3.801 0 0112 15.797zm0 0"}),Object(s.jsx)("path",{d:"M12 9.93c-1.145 0-2.07.925-2.07 2.07 0 1.145.925 2.07 2.07 2.07 1.145 0 2.07-.925 2.07-2.07 0-1.145-.925-2.07-2.07-2.07zm0 0"})]})}))}function me(e){var t=Q(),n=t.formatName,r=t.formatDescription;return Object(s.jsx)(ue.a,{children:Object(s.jsxs)(de.a,{children:[Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"row",children:[Object(s.jsx)(p.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{gutterBottom:!0,variant:"h5",children:n(e.role.id)})}),Object(s.jsxs)(p.a,{display:"flex",alignItems:"center",children:["dark"===e.role.aura&&Object(s.jsx)(be,{}),e.role.mystical&&Object(s.jsx)(fe,{})]})]}),Object(s.jsx)(O.a,{variant:"body2",color:"textSecondary",children:r(e.role.id)})]})})}function Oe(e){return Object(s.jsxs)(p.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsx)(p.a,{mt:2,children:Object(s.jsx)(O.a,{variant:"h5",children:Object(s.jsx)(x.a,{id:"game.showRole.title"})})}),Object(s.jsx)(p.a,{mt:2,children:Object(s.jsx)(q,{lastScreen:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.finish"})}),collection:e.playersData,content:function(t){return Object(s.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(p.a,{mb:2,children:Object(s.jsx)(O.a,{variant:"h6",children:t.player.name})}),Object(s.jsx)(p.a,{display:"flex",width:1,children:Object(s.jsx)(me,{role:P[t.roleId]})}),Object(c.pipe)({roleId:t.roleId,playersData:e.playersData},(n={whenWolves:o.option.fold(Object(c.constant)(Object(s.jsx)(p.a,{mb:2,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.noTraitor"})})})),(function(e){return Object(s.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(p.a,{mb:2,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.traitor",values:{name:e.name}})})}),Object(s.jsx)(p.a,{display:"flex",width:1,children:Object(s.jsx)(me,{role:P.traitor})})]})})),whenMonk:o.option.fold(Object(c.constant)(Object(s.jsx)(p.a,{mb:2,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.noMissingRole"})})})),(function(e){return Object(s.jsxs)(p.a,{mb:2,children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.missingRole",values:{amount:e.length}})}),Object(c.pipe)(e,o.array.map((function(e){return Object(s.jsx)(p.a,{display:"flex",width:1,mt:2,children:Object(s.jsx)(me,{role:e})})})))]})})),whenPriest:o.option.fold(Object(c.constant)(Object(s.jsx)(p.a,{mb:2,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.noSinner"})})})),(function(e){return Object(s.jsxs)(p.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(p.a,{mb:2,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.sinner",values:{name:e.name}})})}),Object(s.jsx)(p.a,{display:"flex",width:1,children:Object(s.jsx)(me,{role:P.sinner})})]})}))},function(e){var t=e.roleId,r=e.playersData;return Object(c.pipe)(H,o.array.findFirst((function(e){return e===t})),o.option.isSome)?n.whenWolves(Object(c.pipe)(r,o.array.findFirst((function(e){return"traitor"===e.roleId})),o.option.map((function(e){return e.player})))):"monk"===t?n.whenMonk(Object(c.pipe)(P,o.record.toArray,o.array.map((function(e){return Object(d.a)(e,2)[1]})),o.array.difference(o.eq.fromEquals((function(e,t){return e.id===t.id})))(Object(c.pipe)(r,o.array.map((function(e){return P[e.roleId]})))),L,(function(e){return 0===e.length?o.option.none:Object(c.pipe)(e,o.array.filterWithIndex((function(e){return e<2})),o.nonEmptyArray.fromArray)}))):"priest"===t?n.whenPriest(Object(c.pipe)(r,o.array.findFirstMap((function(e){return"sinner"===e.roleId?o.option.some(e.player):o.option.none})))):void 0}))]});var n},onProceed:e.onStartGame})})]})}var he=n(42);var xe={_tag:"Home"},ye={_tag:"Roles"},ge={_tag:"Game"},ve={_tag:"Players"},we=xe,De=ye,Ce=ge,Se=ve,Ie=he.b,ke=Object(he.d)("roles").then(he.b),We=Object(he.d)("game").then(he.b),Ne=Object(he.d)("players").then(he.b),Pe=Object(he.f)().alt(Ie.parser.map((function(){return xe}))).alt(ke.parser.map((function(){return ye}))).alt(We.parser.map((function(){return ge}))).alt(Ne.parser.map((function(){return ve})));var Ae={formatLocation:function(e){switch(e._tag){case"Home":return Object(he.c)(Ie.formatter,e);case"Roles":return Object(he.c)(ke.formatter,e);case"Game":return Object(he.c)(We.formatter,e);case"Players":return Object(he.c)(Ne.formatter,e)}},parseLocation:function(e){return Object(he.e)(Pe,he.a.parse(e),xe)}},Ee=function(){var e=Object(l.createContext)(o.option.none);return{RouterProvider:function(t){var n=Object(c.pipe)(t.basepath,o.option.map((function(e){return e.split("/").length+1})),o.option.getOrElse(Object(c.constant)(0))),r=t.useHashHistory?Object(c.pipe)(window.location.pathname+window.location.search+window.location.hash,o.string.replace("#","")):window.location.pathname,a=function(){return Object(c.pipe)(r,o.string.split("/"),o.nonEmptyArray.fromReadonlyNonEmptyArray,o.array.dropLeft(n)).join("/")},i=Object(l.useState)(t.routing.parseLocation(a())),j=Object(d.a)(i,2),u=j[0],p=j[1],b=function(){p(t.routing.parseLocation(a()))};Object(l.useEffect)((function(){return window.addEventListener("popstate",b),function(){window.removeEventListener("popstate",b)}}));var f={parseLocation:t.routing.parseLocation,formatLocation:function(e){return Object(c.pipe)(t.basepath,o.option.map((function(e){return"/"+e})),o.option.getOrElse(Object(c.constant)("")))+(t.useHashHistory?"/#":"")+t.routing.formatLocation(e)}};return Object(s.jsx)(e.Provider,{value:o.option.some({routing:f,location:u,setLocation:p}),children:t.children})},useRouter:function(){var t=Object(l.useContext)(e);if(o.option.isNone(t))throw new Error("RouterContext not provided");return{current:t.value.location,navigateTo:function(e){var n=t.value.routing.formatLocation(e);console.log(n),window.history.pushState(null,"",n),window.scrollTo(0,0),t.value.setLocation(e)},back:function(){window.history.back()}}}}}(),Re=Ee.RouterProvider,Me=Ee.useRouter;function Te(e,t){switch(t.type){case"startFreshGame":return{view:"selectPlayers"};case"assignRoleToPlayer":var n={phase:"showRole",playersData:function(e){var t=Math.floor(e.length/4)-1,n=Object(c.pipe)(e,L),a=[];Object(c.pipe)(n.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(e){return a.push({player:e,roleId:P.primaryWolf.id})}))),Object(c.pipe)(n.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(e){return a.push({player:e,roleId:P.seer.id})})));for(var i=Object(c.pipe)([P.secondaryWolf,P.youngWolf,P.traitor],z((function(e){return e.fitness}))),l=function(e){Object(c.pipe)(n.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(t){return a.push({player:t,roleId:i[e].id})})))},s=0;s<t;s++)l(s);var j=Object(c.pipe)(P,o.record.filter((function(e){return"seer"!==e.id&&"primaryWolf"!==e.id&&Object(c.pipe)(i,o.array.findFirst((function(t){return t.id===e.id})),o.option.isNone)})),o.record.toArray,z((function(e){return Object(d.a)(e,2)[1].fitness})));return Object(c.pipe)(n,o.array.map((function(e){return Object(c.pipe)(j.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(t){var n=Object(d.a)(t,2)[1];return a.push({player:e,roleId:n.id})})))}))),Object(c.pipe)(a,L,o.array.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{alive:!0,turnedIntoWolf:!1})})))}(t.payload),nightNumber:0,farmerTurnedIntoWolves:[],healerUseHisAbility:!1};return se("gameData",F,n),{view:"showRole",gameData:n};case"startNight":if("showRole"===e.view){var a=Object(r.a)(Object(r.a)({},e.gameData),{},{phase:"night"});return se("gameData",F,a),{view:"night",gameData:a}}return e}}function Fe(){var e,t=Me(),n=Object(l.useReducer)(Te,Object(c.pipe)(le("gameData",F),o.option.fold(Object(c.constant)({view:"selectPlayers"}),(function(e){return{view:"init",gameData:e}})))),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(b.a,{position:"static",children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return t.navigateTo(we)},children:Object(s.jsx)(h.a,{})}),Object(s.jsx)(p.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"players"})})})]})}),Object(s.jsx)(p.a,{display:"flex",m:2,width:1,flexDirection:"row",alignItems:"center",children:Object(c.pipe)(a,(e={whenInit:function(e){return Object(s.jsx)(S,{open:!0,title:Object(s.jsx)(x.a,{id:"game.resumeGame.title"}),content:Object(s.jsx)(x.a,{id:"game.resumeGame.content"}),onConfirm:function(){},onCancel:function(){localStorage.removeItem("gameData"),i({type:"startFreshGame"})},confirmLabel:"game.resumeGame.confirm",cancelLabel:"game.resumeGame.cancel"})},whenSelectPlayers:Object(c.constant)(Object(s.jsx)(je,{onNext:function(e){return i({type:"assignRoleToPlayer",payload:e})}})),whenShowRole:function(e){return Object(s.jsx)(Oe,{playersData:e,onStartGame:function(){return i({type:"startNight"})}})},whenNight:function(e,t){return Object(s.jsx)(ce,{playersData:e,nightNumber:t,wolvesDoubleAttack:!1,onNightResult:function(){}})}},function(t){switch(t.view){case"init":return e.whenInit(t.gameData);case"selectPlayers":return e.whenSelectPlayers();case"showRole":return e.whenShowRole(t.gameData.playersData);case"night":return e.whenNight(t.gameData.playersData,t.gameData.nightNumber)}}))})]})}function Le(){var e=Me();return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(O.a,{variant:"h1",children:Object(s.jsx)(x.a,{id:"appTitle"})}),Object(s.jsx)(p.a,{mt:10,width:1,display:"flex",alignItems:"center",flexDirection:"column",children:Object(s.jsxs)(G.a,{container:!0,item:!0,xs:6,direction:"column",justifyContent:"center",spacing:3,children:[Object(s.jsx)(G.a,{item:!0,children:Object(s.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(Ce)},fullWidth:!0,children:Object(s.jsx)(x.a,{id:"game"})})}),Object(s.jsx)(G.a,{item:!0,children:Object(s.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(De)},fullWidth:!0,children:Object(s.jsx)(x.a,{id:"role"})})}),Object(s.jsx)(G.a,{item:!0,children:Object(s.jsx)(C.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(Se)},fullWidth:!0,children:Object(s.jsx)(x.a,{id:"players"})})})]})})]})}var ze=n(216),He=n(228),Be=n(217),_e=n(98),Ge=n.n(_e);var qe=n(214),Ue=n(215),Ve=n(119),Je=n.n(Ve);function Ke(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(s.jsxs)(G.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:[Object(s.jsxs)(ue.a,{children:[Object(s.jsx)(qe.a,{}),Object(s.jsx)(de.a,{children:Object(s.jsx)(O.a,{gutterBottom:!0,variant:"h5",children:e.player.name})}),Object(s.jsx)(Ue.a,{disableSpacing:!0,children:Object(s.jsx)(m.a,{"aria-label":"delete",onClick:function(){return a(!0)},children:Object(s.jsx)(Je.a,{})})})]}),Object(s.jsx)(S,{open:r,title:Object(s.jsx)(x.a,{id:"player.delete.confirmDialog.title"}),content:Object(s.jsx)(x.a,{id:"player.delete.confirmDialog.content"}),onConfirm:function(){a(!1),e.onDelete()},onCancel:function(){return a(!1)}})]})}var Qe=n(120),Xe=n.n(Qe),Ye=n(59),Ze=n(220);function $e(e){return Object(s.jsx)(Ze.a,{fullWidth:!0,label:e.label,defaultValue:e.placeholder,disabled:e.disabled,onChange:function(t){return e.onChange(t.currentTarget.value)},onBlur:e.onBlur,value:e.value,name:e.name,error:Object(c.pipe)(e.issues,o.option.isSome),helperText:Object(c.pipe)(e.issues,o.option.map((function(e){return Object(c.pipe)(e,o.nonEmptyArray.head)})),o.option.toNullable)})}function et(){var e,t=Object(K.a)();return{nonBlankString:(e=t.formatMessage({id:"form.validators.nonBlankString"}),Ye.validators.validator(o.either.fromPredicate((function(e){return e.trim().length>0}),Object(c.constant)(e)))),uniqueString:function(e){return function(t){return Ye.validators.validator(o.either.fromPredicate((function(e){return Object(c.pipe)(t,o.array.findFirst((function(t){return t===e})),o.option.isNone)}),Object(c.constant)(e)))}}(t.formatMessage({id:"form.validators.uniqueString"})),defined:function(){return Ye.validators.defined(t.formatMessage({id:"form.validators.defined"}))},definedNoExtract:function(){return Ye.validators.definedNoExtract(t.formatMessage({id:"form.validators.defined"}))}}}function tt(e){var t=Object(K.a)().formatMessage,n=et(),a=n.nonBlankString,i=n.uniqueString,c=Object(Ye.useFormo)({initialValues:{name:""},fieldValidators:function(){return{name:Ye.validators.inParallel(a,i(e.playerNames))}}},{onSubmit:function(t){return o.taskEither.fromIO((function(){return e.onConfirm(t.name)}))}}),l=c.fieldProps,j=c.handleSubmit;return Object(s.jsxs)(y.a,{open:e.open,fullWidth:!0,onClose:e.onCancel,children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(x.a,{id:e.title})}),Object(s.jsx)(v.a,{children:Object(s.jsx)($e,Object(r.a)({label:t({id:"player.form.label.name"}),placeholder:""},l("name")))}),Object(s.jsxs)(D.a,{children:[Object(s.jsx)(C.a,{onClick:e.onCancel,color:"primary",children:Object(s.jsx)(x.a,{id:"cancel"})}),Object(s.jsx)(C.a,{onClick:j,color:"primary",children:Object(s.jsx)(x.a,{id:"ok"})})]})]})}var nt=Object(ze.a)((function(e){return Object(He.a)({fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})}));function rt(){var e=nt(),t=Me(),n=function(e,t,n){var r=Object(c.pipe)(le(e,t),o.option.getOrElse((function(){return se(e,t,n),n}))),a=Object(l.useState)(r),i=Object(d.a)(a,2),s=i[0],j=i[1];return[s,function(n){return Object(c.pipe)(se(e,t,n),o.either.fold((function(){}),(function(){return j(n)})))}]}("players",W.c(R),[]),r=Object(d.a)(n,2),a=r[0],i=r[1],j=Object(l.useState)(!1),u=Object(d.a)(j,2),h=u[0],y=u[1];return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(b.a,{position:"static",children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return t.navigateTo(we)},children:Object(s.jsx)(Ge.a,{})}),Object(s.jsx)(p.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"players"})})})]})}),Object(s.jsxs)(p.a,{display:"flex",m:2,width:1,flexDirection:"row",alignItems:"center",children:[Object(s.jsx)(G.a,{container:!0,direction:"row",spacing:2,justifyContent:"center",alignItems:"center",children:a.map((function(e){return Object(s.jsx)(Ke,{player:e,onDelete:function(){return i(Object(c.pipe)(a,o.array.filter((function(t){return t.name!==e.name}))))}})}))}),Object(s.jsx)(Be.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(){return y(!0)},children:Object(s.jsx)(Xe.a,{})}),h&&Object(s.jsx)(tt,{open:h,title:"player.form.label.title",playerNames:Object(c.pipe)(a,o.array.map((function(e){return e.name}))),onCancel:function(){return y(!1)},onConfirm:function(e){i([].concat(Object(I.a)(a),[{name:e}])),y(!1)}})]})]})}var at=n(225),it=n(218),ct=n(121),ot=n.n(ct);function lt(){var e=Me(),t=function(){var e=Object(K.a)().formatMessage;return function(t){switch(t){case"general":return e({id:"faction.general"});case"wolf":return e({id:"faction.wolf"});case"village":return e({id:"faction.village"})}}}();return Object(s.jsxs)(p.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(b.a,{position:"static",children:Object(s.jsxs)(f.a,{children:[Object(s.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return e.navigateTo(we)},children:Object(s.jsx)(Ge.a,{})}),Object(s.jsx)(p.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"role"})})})]})}),Object(s.jsx)(p.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:Object(c.pipe)(E,o.array.map((function(e){return Object(s.jsxs)(at.a,{children:[Object(s.jsx)(it.a,{expandIcon:Object(s.jsx)(ot.a,{}),children:Object(s.jsx)(O.a,{children:t(e)})}),Object(s.jsx)(p.a,{m:2,children:Object(s.jsx)(G.a,{container:!0,direction:"row",spacing:2,justifyContent:"center",alignItems:"center",children:Object(c.pipe)(P,o.record.filter((function(t){return t.faction===e})),o.record.toArray,o.array.map((function(e){var t=Object(d.a)(e,2)[1];return Object(s.jsx)(G.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(s.jsx)(me,{role:t},t.id)})})))})})]},e)})))})]})}function st(){var e,t=Me();return Object(c.pipe)(t.current,(e={Home:Object(c.constant)(Object(s.jsx)(Le,{})),Roles:Object(c.constant)(Object(s.jsx)(lt,{})),Game:Object(c.constant)(Object(s.jsx)(Fe,{})),Players:Object(c.constant)(Object(s.jsx)(rt,{}))},function(t){return e[t._tag](t)}))}var jt=function(){var e=function(){var e=Object(l.useContext)(j);if(o.option.isNone(e))throw new Error("BuildConfigContext not provided");return e.value}();return Object(s.jsx)(Re,{basepath:e.basepath,useHashHistory:!0,routing:Ae,children:Object(s.jsx)(st,{})})},ut=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},dt=n(222),pt=n(219);function bt(){return Object(s.jsx)(p.a,{display:"flex",width:1,height:1,alignItems:"center",justifyContent:"center",children:Object(s.jsx)(pt.a,{})})}function ft(e){var t=Object(l.useState)(o.option.none),a=Object(d.a)(t,2),i=a[0],j=a[1];return Object(l.useEffect)((function(){var t;Object(c.pipe)((t=e.locale,o.taskEither.tryCatch((function(){switch(t){case"it":return n.e(4).then(n.t.bind(null,232,3)).then((function(e){return Object(r.a)({},e.default)}))}}),W.g)),o.taskEither.map((function(e){return j(o.option.some(e))})))()}),[e.locale]),Object(c.pipe)(i,o.option.fold(Object(c.constant)(Object(s.jsx)(bt,{})),(function(t){return Object(s.jsx)(dt.a,{messages:t,locale:e.locale,children:e.children})})))}var mt=n(122),Ot=W.n({REACT_APP_BASEPATH:Object(mt.a)(N.a)},"BuildConfig"),ht=Object(c.pipe)(Ot.decode(Object({NODE_ENV:"production",PUBLIC_URL:"/wherewolf",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASEPATH:"wherewolf"})),o.either.fold((function(e){throw new Error(Object(oe.failure)(e).join("\n"))}),(function(e){return{basepath:e.REACT_APP_BASEPATH}})));i.a.render(Object(s.jsx)(l.StrictMode,{children:Object(s.jsx)(u,Object(r.a)(Object(r.a)({},ht),{},{children:Object(s.jsx)(ft,{locale:"it",children:Object(s.jsx)(jt,{})})}))}),document.getElementById("root")),ut()}},[[168,1,2]]]);
//# sourceMappingURL=main.da6cace7.chunk.js.map