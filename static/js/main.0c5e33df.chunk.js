(this.webpackJsonpwherewolf=this.webpackJsonpwherewolf||[]).push([[0],{141:function(e,t,r){},142:function(e,t,r){},167:function(e,t,r){"use strict";r.r(t);var n=r(40),a=r(29),i=r.n(a),c=(r(141),r(0)),o=(r(142),r(17)),l=r(1),s=r(4),u=Object(l.createContext)(o.option.none);function d(e){var t=e.basepath,r=e.children;return Object(s.jsx)(u.Provider,{value:o.option.some({basepath:t}),children:r})}var j=r(217),f=r(198),b=r(200),m=r(39),p=r(38);var O={_tag:"Home"},h={_tag:"Roles"},x={_tag:"Game"},g={_tag:"Players"},v=O,y=h,w=g,C=m.b,k=Object(m.d)("roles").then(m.b),E=Object(m.d)("game").then(m.b),S=Object(m.d)("players").then(m.b),P=Object(m.f)().alt(C.parser.map((function(){return O}))).alt(k.parser.map((function(){return h}))).alt(E.parser.map((function(){return x}))).alt(S.parser.map((function(){return g})));var W={formatLocation:function(e){switch(e._tag){case"Home":return Object(m.c)(C.formatter,e);case"Roles":return Object(m.c)(k.formatter,e);case"Game":return Object(m.c)(E.formatter,e);case"Players":return Object(m.c)(S.formatter,e)}},parseLocation:function(e){return Object(m.e)(P,m.a.parse(e),O)}},A=function(){var e=Object(l.createContext)(o.option.none);return{RouterProvider:function(t){var r=Object(c.pipe)(t.basepath,o.option.map((function(e){return e.split("/").length+1})),o.option.getOrElse(Object(c.constant)(0))),n=function(){return Object(c.pipe)(window.location.pathname,o.string.split("/"),o.nonEmptyArray.fromReadonlyNonEmptyArray,o.array.dropLeft(r)).join("/")},a=Object(l.useState)(t.routing.parseLocation(n())),i=Object(p.a)(a,2),u=i[0],d=i[1],j=function(){d(t.routing.parseLocation(n()))};Object(l.useEffect)((function(){return window.addEventListener("popstate",j),function(){window.removeEventListener("popstate",j)}}));var f={parseLocation:t.routing.parseLocation,formatLocation:function(e){return Object(c.pipe)(t.basepath,o.option.map((function(e){return"/"+e})),o.option.getOrElse(Object(c.constant)("")))+(t.useHashHistory?"/#":"")+t.routing.formatLocation(e)}};return Object(s.jsx)(e.Provider,{value:o.option.some({routing:f,location:u,setLocation:d}),children:t.children})},useRouter:function(){var t=Object(l.useContext)(e);if(o.option.isNone(t))throw new Error("RouterContext not provided");return{current:t.value.location,navigateTo:function(e){var r=t.value.routing.formatLocation(e);console.log(r),window.history.pushState(null,"",r),window.scrollTo(0,0),t.value.setLocation(e)},back:function(){window.history.back()}}}}}(),T=A.RouterProvider,L=A.useRouter;function _(){var e=L();return Object(s.jsxs)(j.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)("h1",{children:"Welcome"}),Object(s.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(y)},children:Object(s.jsx)(b.a,{id:"role"})}),Object(s.jsx)(f.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(w)},children:Object(s.jsx)(b.a,{id:"players"})})]})}var D=r(120),I=r(210),R=r(222),z=r(211),B=r(212),N=r(171),M=r(124),H=r(205),F=r(213),q=r(96),V=r.n(q),G=r(11),J=r(26),K=r(93),U={primaryWolf:{id:"primaryWolf",aura:"dark",mystical:!1,faction:"wolf"},secondaryWolf:{id:"secondaryWolf",aura:"dark",mystical:!1,faction:"wolf"},youngWolf:{id:"youngWolf",aura:"dark",mystical:!1,faction:"wolf"},traitor:{id:"traitor",aura:"light",mystical:!1,faction:"wolf"},seer:{id:"seer",aura:"light",mystical:!0,faction:"village"},wizard:{id:"wizard",aura:"light",mystical:!0,faction:"village"},medium:{id:"medium",aura:"light",mystical:!0,faction:"village"},witch:{id:"witch",aura:"light",mystical:!0,faction:"village"},healer:{id:"healer",aura:"light",mystical:!0,faction:"village"},farmer:{id:"farmer",aura:"light",mystical:!1,faction:"village"},innkeeper:{id:"innkeeper",aura:"light",mystical:!1,faction:"village"},bard:{id:"bard",aura:"light",mystical:!1,faction:"village"},monk:{id:"monk",aura:"light",mystical:!1,faction:"village"},heremit:{id:"heremit",aura:"light",mystical:!1,faction:"village"},priest:{id:"priest",aura:"light",mystical:!1,faction:"village"},sinner:{id:"sinner",aura:"dark",mystical:!1,faction:"village"},madman:{id:"madman",aura:"light",mystical:!1,faction:"general"},jester:{id:"jester",aura:"light",mystical:!1,faction:"general"}},Q=Object(c.pipe)(U,o.record.toArray,o.array.map((function(e){return Object(p.a)(e,2)[1].faction})),o.array.uniq(G.Eq)),X=J.k({name:K.a}),Y=r(94);var Z=r(206),$=r(207),ee=r(208),te=r(209),re=r(117),ne=r.n(re),ae=r(220),ie=r(201),ce=r(202),oe=r(203),le=r(204);function se(e){return Object(s.jsxs)(ae.a,{open:e.open,onClose:e.onCancel,children:[Object(s.jsx)(ie.a,{children:Object(s.jsx)(b.a,{id:e.title})}),Object(s.jsx)(ce.a,{children:Object(s.jsx)(oe.a,{children:Object(s.jsx)(b.a,{id:e.content})})}),Object(s.jsxs)(le.a,{children:[Object(s.jsx)(f.a,{autoFocus:!0,onClick:e.onCancel,color:"primary",children:Object(s.jsx)(b.a,{id:"cancel"})}),Object(s.jsx)(f.a,{onClick:e.onConfirm,color:"primary",children:Object(s.jsx)(b.a,{id:"ok"})})]})]})}function ue(e){var t=Object(l.useState)(!1),r=Object(p.a)(t,2),n=r[0],a=r[1];return Object(s.jsxs)(H.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:[Object(s.jsxs)(Z.a,{children:[Object(s.jsx)($.a,{}),Object(s.jsx)(ee.a,{children:Object(s.jsx)(M.a,{gutterBottom:!0,variant:"h5",children:e.player.name})}),Object(s.jsx)(te.a,{disableSpacing:!0,children:Object(s.jsx)(N.a,{"aria-label":"delete",onClick:function(){return a(!0)},children:Object(s.jsx)(ne.a,{})})})]}),Object(s.jsx)(se,{open:n,title:"player.delete.confirmDialog.title",content:"player.delete.confirmDialog.content",onConfirm:function(){console.log("prova"),a(!1),e.onDelete()},onCancel:function(){return a(!1)}})]})}var de=r(118),je=r.n(de),fe=r(56),be=r(116),me=r(216);function pe(e){return Object(s.jsx)(me.a,{fullWidth:!0,label:e.label,defaultValue:e.placeholder,disabled:e.disabled,onChange:function(t){return e.onChange(t.currentTarget.value)},onBlur:e.onBlur,value:e.value,name:e.name,error:Object(c.pipe)(e.issues,o.option.isSome),helperText:Object(c.pipe)(e.issues,o.option.map((function(e){return Object(c.pipe)(e,o.nonEmptyArray.head)})),o.option.toNullable)})}function Oe(){var e,t=Object(be.a)();return{nonBlankString:(e=t.formatMessage({id:"form.validators.nonBlankString"}),fe.validators.validator(o.either.fromPredicate((function(e){return e.trim().length>0}),Object(c.constant)(e)))),uniqueString:function(e){return function(t){return fe.validators.validator(o.either.fromPredicate((function(e){return Object(c.pipe)(t,o.array.findFirst((function(t){return t===e})),o.option.isNone)}),Object(c.constant)(e)))}}(t.formatMessage({id:"form.validators.uniqueString"})),defined:function(){return fe.validators.defined(t.formatMessage({id:"form.validators.defined"}))},definedNoExtract:function(){return fe.validators.definedNoExtract(t.formatMessage({id:"form.validators.defined"}))}}}function he(e){var t=Object(be.a)().formatMessage,r=Oe(),a=r.nonBlankString,i=r.uniqueString,c=Object(fe.useFormo)({initialValues:{name:""},fieldValidators:function(){return{name:fe.validators.inParallel(a,i(e.playerNames))}}},{onSubmit:function(t){return o.taskEither.fromIO((function(){return e.onConfirm(t.name)}))}}),l=c.fieldProps,u=c.handleSubmit;return Object(s.jsxs)(ae.a,{open:e.open,fullWidth:!0,onClose:e.onCancel,children:[Object(s.jsx)(ie.a,{children:Object(s.jsx)(b.a,{id:e.title})}),Object(s.jsx)(ce.a,{children:Object(s.jsx)(pe,Object(n.a)({label:t({id:"player.form.label.name"}),placeholder:""},l("name")))}),Object(s.jsxs)(le.a,{children:[Object(s.jsx)(f.a,{onClick:e.onCancel,color:"primary",children:Object(s.jsx)(b.a,{id:"cancel"})}),Object(s.jsx)(f.a,{onClick:u,color:"primary",children:Object(s.jsx)(b.a,{id:"ok"})})]})]})}var xe=Object(I.a)((function(e){return Object(R.a)({fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})}));function ge(){var e=xe(),t=L(),r=function(e,t,r){var n=function(r){return Object(c.pipe)(r,t.encode,o.json.stringify,o.either.bimap((function(e){return console.error(e),e}),(function(t){return localStorage.setItem(e,t)})))},a=Object(c.pipe)(localStorage.getItem(e),o.option.fromNullable,o.option.chain(Object(c.flow)(o.json.parse,o.either.mapLeft((function(e){return console.error("Json parse error: ",e),e})),o.either.chainW(Object(c.flow)(t.decode,o.either.mapLeft((function(e){return console.error("Decoding error: ",Object(Y.failure)(e).join("\n")),e})))),o.option.fromEither)),o.option.getOrElse((function(){return n(r),r}))),i=Object(l.useState)(a),s=Object(p.a)(i,2),u=s[0],d=s[1];return[u,function(e){return Object(c.pipe)(n(e),o.either.fold((function(){}),(function(){return d(e)})))}]}("players",J.c(X),[]),n=Object(p.a)(r,2),a=n[0],i=n[1],u=Object(l.useState)(!1),d=Object(p.a)(u,2),f=d[0],m=d[1];return Object(s.jsxs)(j.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(z.a,{position:"static",children:Object(s.jsxs)(B.a,{children:[Object(s.jsx)(N.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return t.navigateTo(v)},children:Object(s.jsx)(V.a,{})}),Object(s.jsx)(j.a,{display:"flex",width:1,children:Object(s.jsx)(M.a,{variant:"h6",children:Object(s.jsx)(b.a,{id:"players"})})})]})}),Object(s.jsxs)(j.a,{display:"flex",m:2,width:1,flexDirection:"row",alignItems:"center",children:[Object(s.jsx)(H.a,{container:!0,direction:"row",spacing:2,justifyContent:"center",alignItems:"center",children:a.map((function(e){return Object(s.jsx)(ue,{player:e,onDelete:function(){return i(Object(c.pipe)(a,o.array.filter((function(t){return t.name!==e.name}))))}})}))}),Object(s.jsx)(F.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(){return m(!0)},children:Object(s.jsx)(je.a,{})}),f&&Object(s.jsx)(he,{open:f,title:"player.form.label.title",playerNames:Object(c.pipe)(a,o.array.map((function(e){return e.name}))),onCancel:function(){return m(!1)},onConfirm:function(e){i([].concat(Object(D.a)(a),[{name:e}])),m(!1)}})]})]})}var ve=r(221),ye=r(214),we=r(119),Ce=r.n(we);var ke=r(125);function Ee(e){return Object(s.jsx)(ke.a,Object(n.a)(Object(n.a)({},e),{},{children:Object(s.jsx)("path",{d:"M12 1.5c-5.398 0-9.75 4.352-9.75 9.602v4.273a2.53 2.53 0 002.55 2.55c.45 0 1.2.223 1.2.825V21c0 .3.227.602.523.75 1.801.602 3.676.898 5.477.898 1.8 0 3.676-.296 5.477-.898.296-.074.523-.375.523-.75v-2.25c0-.602.75-.824 1.2-.824a2.53 2.53 0 002.55-2.551v-4.273c0-5.25-4.352-9.602-9.75-9.602zM9.227 16.273l-.903.153c-.148 0-.3.074-.523.074-.602 0-1.125-.227-1.653-.602a2.666 2.666 0 01-.898-1.949v-.148A2.53 2.53 0 017.8 11.25h.9c.823 0 1.5.375 2.027.977.449.597.671 1.421.449 2.171-.227.977-1.051 1.653-1.95 1.875zm3.824 1.653c-.074.074-.153.074-.301.074-.3 0-.523-.148-.676-.45L12 17.399l-.074.153c-.153.375-.602.523-.977.3-.375-.152-.523-.601-.3-.976l.75-1.5c.226-.523 1.05-.523 1.351 0l.75 1.5c.074.375-.074.824-.45 1.05zm5.699-3.977c0 .75-.375 1.5-.898 1.95a2.632 2.632 0 01-1.653.601c-.148 0-.3 0-.523-.074l-.903-.153c-.972-.222-1.722-.898-1.949-1.875-.222-.75 0-1.574.45-2.171.453-.602 1.203-.977 2.027-.977h.898a2.53 2.53 0 012.551 2.55zm0 0"})}))}function Se(e){return Object(s.jsx)(ke.a,Object(n.a)(Object(n.a)({},e),{},{children:Object(s.jsxs)("g",{children:[Object(s.jsx)("path",{d:"M23.887 11.586c-.192-.316-4.742-7.75-11.887-7.75-7.145 0-11.695 7.434-11.887 7.75a.807.807 0 000 .828c.192.316 4.742 7.75 11.887 7.75 7.145 0 11.695-7.434 11.887-7.75a.807.807 0 000-.828zM12 18.559c-5.336 0-9.21-5.063-10.238-6.559C2.789 10.5 6.652 5.441 12 5.441c5.336 0 9.21 5.063 10.238 6.559-1.027 1.5-4.89 6.559-10.238 6.559zm0 0"}),Object(s.jsx)("path",{d:"M12 6.598A5.406 5.406 0 006.598 12 5.409 5.409 0 0012 17.402 5.411 5.411 0 0017.402 12 5.406 5.406 0 0012 6.598zm0 9.199A3.801 3.801 0 018.203 12c0-2.094 1.703-3.8 3.797-3.8a3.804 3.804 0 013.797 3.8A3.801 3.801 0 0112 15.797zm0 0"}),Object(s.jsx)("path",{d:"M12 9.93c-1.145 0-2.07.925-2.07 2.07 0 1.145.925 2.07 2.07 2.07 1.145 0 2.07-.925 2.07-2.07 0-1.145-.925-2.07-2.07-2.07zm0 0"})]})}))}function Pe(e){var t=function(){var e=Object(be.a)().formatMessage;return{formatName:function(t){switch(t){case"primaryWolf":return e({id:"role.primaryWolf.name"});case"secondaryWolf":return e({id:"role.secondaryWolf.name"});case"youngWolf":return e({id:"role.youngWolf.name"});case"traitor":return e({id:"role.traitor.name"});case"seer":return e({id:"role.seer.name"});case"wizard":return e({id:"role.wizard.name"});case"medium":return e({id:"role.medium.name"});case"witch":return e({id:"role.witch.name"});case"healer":return e({id:"role.healer.name"});case"farmer":return e({id:"role.farmer.name"});case"innkeeper":return e({id:"role.innkeeper.name"});case"bard":return e({id:"role.bard.name"});case"monk":return e({id:"role.monk.name"});case"heremit":return e({id:"role.heremit.name"});case"priest":return e({id:"role.priest.name"});case"sinner":return e({id:"role.sinner.name"});case"madman":return e({id:"role.madman.name"});case"jester":return e({id:"role.jester.name"})}},formatDescription:function(t){switch(t){case"primaryWolf":return e({id:"role.primaryWolf.description"});case"secondaryWolf":return e({id:"role.secondaryWolf.description"});case"youngWolf":return e({id:"role.youngWolf.description"});case"traitor":return e({id:"role.traitor.description"});case"seer":return e({id:"role.seer.description"});case"wizard":return e({id:"role.wizard.description"});case"medium":return e({id:"role.medium.description"});case"witch":return e({id:"role.witch.description"});case"healer":return e({id:"role.healer.description"});case"farmer":return e({id:"role.farmer.description"});case"innkeeper":return e({id:"role.innkeeper.description"});case"bard":return e({id:"role.bard.description"});case"monk":return e({id:"role.monk.description"});case"heremit":return e({id:"role.heremit.description"});case"priest":return e({id:"role.priest.description"});case"sinner":return e({id:"role.sinner.description"});case"madman":return e({id:"role.madman.description"});case"jester":return e({id:"role.jester.description"})}}}}(),r=t.formatName,n=t.formatDescription;return Object(s.jsx)(H.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(s.jsx)(Z.a,{children:Object(s.jsxs)(ee.a,{children:[Object(s.jsxs)(j.a,{display:"flex",width:1,flexDirection:"row",children:[Object(s.jsx)(j.a,{display:"flex",width:1,children:Object(s.jsx)(M.a,{gutterBottom:!0,variant:"h5",children:r(e.role.id)})}),Object(s.jsxs)(j.a,{display:"flex",alignItems:"center",children:["dark"===e.role.aura&&Object(s.jsx)(Ee,{}),e.role.mystical&&Object(s.jsx)(Se,{})]})]}),Object(s.jsx)(M.a,{variant:"body2",color:"textSecondary",children:n(e.role.id)})]})})})}function We(){var e=L(),t=function(){var e=Object(be.a)().formatMessage;return function(t){switch(t){case"general":return e({id:"faction.general"});case"wolf":return e({id:"faction.wolf"});case"village":return e({id:"faction.village"})}}}();return Object(s.jsxs)(j.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(z.a,{position:"static",children:Object(s.jsxs)(B.a,{children:[Object(s.jsx)(N.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return e.navigateTo(v)},children:Object(s.jsx)(V.a,{})}),Object(s.jsx)(j.a,{display:"flex",width:1,children:Object(s.jsx)(M.a,{variant:"h6",children:Object(s.jsx)(b.a,{id:"role"})})})]})}),Object(s.jsx)(j.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:Object(c.pipe)(Q,o.array.map((function(e){return Object(s.jsxs)(ve.a,{children:[Object(s.jsx)(ye.a,{expandIcon:Object(s.jsx)(Ce.a,{}),children:Object(s.jsx)(M.a,{children:t(e)})}),Object(s.jsx)(j.a,{m:2,children:Object(s.jsx)(H.a,{container:!0,direction:"row",spacing:2,justifyContent:"center",alignItems:"center",children:Object(c.pipe)(U,o.record.filter((function(t){return t.faction===e})),o.record.toArray,o.array.map((function(e){var t=Object(p.a)(e,2)[1];return Object(s.jsx)(Pe,{role:t},t.id)})))})})]},e)})))})]})}function Ae(){var e,t=L();return Object(c.pipe)(t.current,(e={Home:Object(c.constant)(Object(s.jsx)(_,{})),Roles:Object(c.constant)(Object(s.jsx)(We,{})),Game:Object(c.constant)(Object(s.jsx)("div",{})),Players:Object(c.constant)(Object(s.jsx)(ge,{}))},function(t){return e[t._tag](t)}))}var Te=function(){var e=function(){var e=Object(l.useContext)(u);if(o.option.isNone(e))throw new Error("BuildConfigContext not provided");return e.value}();return Object(s.jsx)(T,{basepath:e.basepath,useHashHistory:!0,routing:W,children:Object(s.jsx)(Ae,{})})},Le=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,225)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),i(e),c(e)}))},_e=r(218),De=r(215);function Ie(){return Object(s.jsx)(j.a,{display:"flex",width:1,height:1,alignItems:"center",justifyContent:"center",children:Object(s.jsx)(De.a,{})})}function Re(e){var t=Object(l.useState)(o.option.none),a=Object(p.a)(t,2),i=a[0],u=a[1];return Object(l.useEffect)((function(){var t;Object(c.pipe)((t=e.locale,o.taskEither.tryCatch((function(){switch(t){case"it":return r.e(4).then(r.t.bind(null,226,3)).then((function(e){return Object(n.a)({},e.default)}))}}),J.f)),o.taskEither.map((function(e){return u(o.option.some(e))})))()}),[e.locale]),Object(c.pipe)(i,o.option.fold(Object(c.constant)(Object(s.jsx)(Ie,{})),(function(t){return Object(s.jsx)(_e.a,{messages:t,locale:e.locale,children:e.children})})))}var ze=r(121),Be=J.k({REACT_APP_BASEPATH:Object(ze.a)(K.a)},"BuildConfig"),Ne=Object(c.pipe)(Be.decode(Object({NODE_ENV:"production",PUBLIC_URL:"/wherewolf",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASEPATH:"wherewolf"})),o.either.fold((function(e){throw new Error(Object(Y.failure)(e).join("\n"))}),(function(e){return{basepath:e.REACT_APP_BASEPATH}})));i.a.render(Object(s.jsx)(l.StrictMode,{children:Object(s.jsx)(d,Object(n.a)(Object(n.a)({},Ne),{},{children:Object(s.jsx)(Re,{locale:"it",children:Object(s.jsx)(Te,{})})}))}),document.getElementById("root")),Le()}},[[167,1,2]]]);
//# sourceMappingURL=main.0c5e33df.chunk.js.map