(this.webpackJsonpwherewolf=this.webpackJsonpwherewolf||[]).push([[0],{142:function(e,t,n){},143:function(e,t,n){},168:function(e,t,n){"use strict";n.r(t);var r=n(39),a=n(31),i=n.n(a),c=(n(142),n(0)),o=(n(143),n(9)),l=n(1),s=n(4),u=Object(l.createContext)(o.option.none);function j(e){var t=e.basepath,n=e.children;return Object(s.jsx)(u.Provider,{value:o.option.some({basepath:t}),children:n})}var d=n(29),f=n(221),p=n(211),b=n(212),m=n(172),O=n(125),h=n(213),x=n(203),y=n(224),g=n(202),v=n(204),w=n(205),C=n(206),k=n(207);function S(e){return Object(s.jsxs)(y.a,{open:e.open,onClose:e.onCancel,children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(x.a,{id:e.title})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(w.a,{children:Object(s.jsx)(x.a,{id:e.content})})}),Object(s.jsxs)(C.a,{children:[Object(s.jsx)(k.a,{autoFocus:!0,onClick:e.onCancel,color:"primary",children:Object(s.jsx)(x.a,{id:e.cancelLabel?e.cancelLabel:"cancel"})}),Object(s.jsx)(k.a,{onClick:e.onConfirm,color:"primary",children:Object(s.jsx)(x.a,{id:e.confirmLabel?e.confirmLabel:"ok"})})]})]})}var E=n(12),W=n(24),R=n(96),P={primaryWolf:{id:"primaryWolf",aura:"dark",mystical:!1,faction:"wolf",fitness:100},secondaryWolf:{id:"secondaryWolf",aura:"dark",mystical:!1,faction:"wolf",fitness:75},youngWolf:{id:"youngWolf",aura:"dark",mystical:!1,faction:"wolf",fitness:50},traitor:{id:"traitor",aura:"light",mystical:!1,faction:"wolf",fitness:30},seer:{id:"seer",aura:"light",mystical:!0,faction:"village",fitness:100},wizard:{id:"wizard",aura:"light",mystical:!0,faction:"village",fitness:30},medium:{id:"medium",aura:"light",mystical:!0,faction:"village",fitness:30},witch:{id:"witch",aura:"light",mystical:!0,faction:"village",fitness:50},healer:{id:"healer",aura:"light",mystical:!0,faction:"village",fitness:40},farmer1:{id:"farmer",aura:"light",mystical:!1,faction:"village",fitness:200},farmer2:{id:"farmer",aura:"light",mystical:!1,faction:"village",fitness:200},innkeeper:{id:"innkeeper",aura:"light",mystical:!1,faction:"village",fitness:50},bard:{id:"bard",aura:"light",mystical:!1,faction:"village",fitness:50},monk:{id:"monk",aura:"light",mystical:!1,faction:"village",fitness:20},heremit:{id:"heremit",aura:"light",mystical:!1,faction:"village",fitness:20},priest:{id:"priest",aura:"light",mystical:!1,faction:"village",fitness:40},sinner:{id:"sinner",aura:"dark",mystical:!1,faction:"village",fitness:40},madman:{id:"madman",aura:"light",mystical:!1,faction:"general",fitness:20},jester:{id:"jester",aura:"light",mystical:!1,faction:"general",fitness:20}},D=W.g({primaryWolf:!0,secondaryWolf:!0,youngWolf:!0,traitor:!0,seer:!0,wizard:!0,medium:!0,witch:!0,healer:!0,farmer:!0,innkeeper:!0,bard:!0,monk:!0,heremit:!0,priest:!0,sinner:!0,madman:!0,jester:!0}),I=Object(c.pipe)(P,o.record.toArray,o.array.map((function(e){return Object(d.a)(e,2)[1].faction})),o.array.uniq(E.Eq)),T=W.l({name:R.a}),L=W.l({player:T,roleId:D}),A=W.g({showRole:!0}),N=W.l({phase:A,playersRole:W.c(L)}),_=n(97);function M(e,t){return Object(c.pipe)(localStorage.getItem(e),o.option.fromNullable,o.option.chain(Object(c.flow)(o.json.parse,o.either.mapLeft((function(e){return console.error("Json parse error: ",e),e})),o.either.chainW(Object(c.flow)(t.decode,o.either.mapLeft((function(e){return console.error("Decoding error: ",Object(_.failure)(e).join("\n")),e})))),o.option.fromEither)))}function z(e,t,n){return Object(c.pipe)(n,t.encode,o.json.stringify,o.either.bimap((function(e){return console.error(e),e}),(function(t){return localStorage.setItem(e,t)})))}var B=n(208),H=n(226),F=n(227);function G(e){var t=Object(l.useState)(Object(c.pipe)(M("players",W.c(T)),o.option.map((function(e){return Object(c.pipe)(e,o.array.map((function(e){return{player:e,selected:!1}})))})))),n=Object(d.a)(t,2),a=n[0],i=n[1],u=Object(c.pipe)(a,o.option.map((function(e){return Object(c.pipe)(e,o.array.filter((function(e){return e.selected}))).length})),o.option.getOrElse(Object(c.constant)(0)));return Object(s.jsxs)(f.a,{display:"flex",width:1,flexDirection:"column",m:4,children:[Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.players.playerNumber",values:{amount:u,minAmount:4}})}),Object(s.jsx)(f.a,{display:"flex",width:1,flexDirection:"column",m:4,children:Object(c.pipe)(a,o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h3",children:Object(s.jsx)(x.a,{id:"game.players.noPlayersDefined"})})),(function(e){return Object(s.jsx)(B.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:2,children:e.map((function(t){return Object(s.jsx)(B.a,{justifyContent:"center",alignItems:"center",container:!0,item:!0,xs:4,sm:3,md:2,lg:1,children:Object(s.jsx)(H.a,{label:t.player.name,avatar:Object(s.jsx)(F.a,{children:t.player.name[0]}),clickable:!0,color:"primary",onClick:function(){return i(Object(c.pipe)(e,o.array.findIndex((function(e){return e.player.name===t.player.name})),o.option.chain((function(t){return Object(c.pipe)(e,o.array.modifyAt(t,(function(e){return Object(r.a)(Object(r.a)({},e),{},{selected:!e.selected})})))}))))},variant:t.selected?"default":"outlined"})},t.player.name)}))})})))}),Object(s.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return e.onNext(Object(c.pipe)(a,o.option.map((function(e){return Object(c.pipe)(e,o.array.filterMap((function(e){return e.selected?o.option.some(e.player):o.option.none})))})),o.option.getOrElse(Object(c.constant)([]))))},disabled:u<4,children:Object(s.jsx)(x.a,{id:"next"})})]})}var q=n(209),V=n(210),J=n(126);function K(e){return Object(s.jsx)(J.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("path",{d:"M12 1.5c-5.398 0-9.75 4.352-9.75 9.602v4.273a2.53 2.53 0 002.55 2.55c.45 0 1.2.223 1.2.825V21c0 .3.227.602.523.75 1.801.602 3.676.898 5.477.898 1.8 0 3.676-.296 5.477-.898.296-.074.523-.375.523-.75v-2.25c0-.602.75-.824 1.2-.824a2.53 2.53 0 002.55-2.551v-4.273c0-5.25-4.352-9.602-9.75-9.602zM9.227 16.273l-.903.153c-.148 0-.3.074-.523.074-.602 0-1.125-.227-1.653-.602a2.666 2.666 0 01-.898-1.949v-.148A2.53 2.53 0 017.8 11.25h.9c.823 0 1.5.375 2.027.977.449.597.671 1.421.449 2.171-.227.977-1.051 1.653-1.95 1.875zm3.824 1.653c-.074.074-.153.074-.301.074-.3 0-.523-.148-.676-.45L12 17.399l-.074.153c-.153.375-.602.523-.977.3-.375-.152-.523-.601-.3-.976l.75-1.5c.226-.523 1.05-.523 1.351 0l.75 1.5c.074.375-.074.824-.45 1.05zm5.699-3.977c0 .75-.375 1.5-.898 1.95a2.632 2.632 0 01-1.653.601c-.148 0-.3 0-.523-.074l-.903-.153c-.972-.222-1.722-.898-1.949-1.875-.222-.75 0-1.574.45-2.171.453-.602 1.203-.977 2.027-.977h.898a2.53 2.53 0 012.551 2.55zm0 0"})}))}function U(e){return Object(s.jsx)(J.a,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsxs)("g",{children:[Object(s.jsx)("path",{d:"M23.887 11.586c-.192-.316-4.742-7.75-11.887-7.75-7.145 0-11.695 7.434-11.887 7.75a.807.807 0 000 .828c.192.316 4.742 7.75 11.887 7.75 7.145 0 11.695-7.434 11.887-7.75a.807.807 0 000-.828zM12 18.559c-5.336 0-9.21-5.063-10.238-6.559C2.789 10.5 6.652 5.441 12 5.441c5.336 0 9.21 5.063 10.238 6.559-1.027 1.5-4.89 6.559-10.238 6.559zm0 0"}),Object(s.jsx)("path",{d:"M12 6.598A5.406 5.406 0 006.598 12 5.409 5.409 0 0012 17.402 5.411 5.411 0 0017.402 12 5.406 5.406 0 0012 6.598zm0 9.199A3.801 3.801 0 018.203 12c0-2.094 1.703-3.8 3.797-3.8a3.804 3.804 0 013.797 3.8A3.801 3.801 0 0112 15.797zm0 0"}),Object(s.jsx)("path",{d:"M12 9.93c-1.145 0-2.07.925-2.07 2.07 0 1.145.925 2.07 2.07 2.07 1.145 0 2.07-.925 2.07-2.07 0-1.145-.925-2.07-2.07-2.07zm0 0"})]})}))}var Q=n(117);function X(e){var t=function(){var e=Object(Q.a)().formatMessage;return{formatName:function(t){switch(t){case"primaryWolf":return e({id:"role.primaryWolf.name"});case"secondaryWolf":return e({id:"role.secondaryWolf.name"});case"youngWolf":return e({id:"role.youngWolf.name"});case"traitor":return e({id:"role.traitor.name"});case"seer":return e({id:"role.seer.name"});case"wizard":return e({id:"role.wizard.name"});case"medium":return e({id:"role.medium.name"});case"witch":return e({id:"role.witch.name"});case"healer":return e({id:"role.healer.name"});case"farmer":return e({id:"role.farmer.name"});case"innkeeper":return e({id:"role.innkeeper.name"});case"bard":return e({id:"role.bard.name"});case"monk":return e({id:"role.monk.name"});case"heremit":return e({id:"role.heremit.name"});case"priest":return e({id:"role.priest.name"});case"sinner":return e({id:"role.sinner.name"});case"madman":return e({id:"role.madman.name"});case"jester":return e({id:"role.jester.name"})}},formatDescription:function(t){switch(t){case"primaryWolf":return e({id:"role.primaryWolf.description"});case"secondaryWolf":return e({id:"role.secondaryWolf.description"});case"youngWolf":return e({id:"role.youngWolf.description"});case"traitor":return e({id:"role.traitor.description"});case"seer":return e({id:"role.seer.description"});case"wizard":return e({id:"role.wizard.description"});case"medium":return e({id:"role.medium.description"});case"witch":return e({id:"role.witch.description"});case"healer":return e({id:"role.healer.description"});case"farmer":return e({id:"role.farmer.description"});case"innkeeper":return e({id:"role.innkeeper.description"});case"bard":return e({id:"role.bard.description"});case"monk":return e({id:"role.monk.description"});case"heremit":return e({id:"role.heremit.description"});case"priest":return e({id:"role.priest.description"});case"sinner":return e({id:"role.sinner.description"});case"madman":return e({id:"role.madman.description"});case"jester":return e({id:"role.jester.description"})}}}}(),n=t.formatName,r=t.formatDescription;return Object(s.jsx)(q.a,{children:Object(s.jsxs)(V.a,{children:[Object(s.jsxs)(f.a,{display:"flex",width:1,flexDirection:"row",children:[Object(s.jsx)(f.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{gutterBottom:!0,variant:"h5",children:n(e.role.id)})}),Object(s.jsxs)(f.a,{display:"flex",alignItems:"center",children:["dark"===e.role.aura&&Object(s.jsx)(K,{}),e.role.mystical&&Object(s.jsx)(U,{})]})]}),Object(s.jsx)(O.a,{variant:"body2",color:"textSecondary",children:r(e.role.id)})]})})}function Y(e){var t=Object(l.useState)(0),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.pipe)(e.playerRoles,o.array.lookup(r)),u=0===r,j=r===e.playerRoles.length;return Object(s.jsxs)(f.a,{display:"flex",width:1,alignItems:"center",flexDirection:"column",children:[Object(s.jsx)(f.a,{mt:2,children:Object(s.jsx)(O.a,{variant:"h5",children:Object(s.jsx)(x.a,{id:"game.showRole.title"})})}),Object(s.jsx)(f.a,{mt:2,children:Object(c.pipe)(i,o.option.fold(Object(c.constant)(Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"game.showRole.finish"})})),(function(e){return Object(s.jsxs)(f.a,{display:"flex",flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(f.a,{mb:2,children:Object(s.jsx)(O.a,{variant:"h6",children:e.player.name})}),Object(s.jsx)(f.a,{display:"flex",width:1,children:Object(s.jsx)(X,{role:e.role})})]})})))}),Object(s.jsx)(f.a,{mt:2,children:Object(s.jsxs)(B.a,{container:!0,spacing:2,children:[!u&&Object(s.jsx)(B.a,{item:!0,children:Object(s.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return r>0?a(r-1):{}},children:Object(s.jsx)(x.a,{id:"prev"})})}),!j&&Object(s.jsx)(B.a,{item:!0,children:Object(s.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return a(r+1)},children:Object(s.jsx)(x.a,{id:"next"})})}),j&&Object(s.jsx)(B.a,{item:!0,children:Object(s.jsx)(k.a,{variant:"contained",color:"primary",onClick:e.onStartGame,children:Object(s.jsx)(x.a,{id:"start"})})})]})})]})}var Z=n(40);var $={_tag:"Home"},ee={_tag:"Roles"},te={_tag:"Game"},ne={_tag:"Players"},re=$,ae=ee,ie=te,ce=ne,oe=Z.b,le=Object(Z.d)("roles").then(Z.b),se=Object(Z.d)("game").then(Z.b),ue=Object(Z.d)("players").then(Z.b),je=Object(Z.f)().alt(oe.parser.map((function(){return $}))).alt(le.parser.map((function(){return ee}))).alt(se.parser.map((function(){return te}))).alt(ue.parser.map((function(){return ne})));var de={formatLocation:function(e){switch(e._tag){case"Home":return Object(Z.c)(oe.formatter,e);case"Roles":return Object(Z.c)(le.formatter,e);case"Game":return Object(Z.c)(se.formatter,e);case"Players":return Object(Z.c)(ue.formatter,e)}},parseLocation:function(e){return Object(Z.e)(je,Z.a.parse(e),$)}},fe=function(){var e=Object(l.createContext)(o.option.none);return{RouterProvider:function(t){var n=Object(c.pipe)(t.basepath,o.option.map((function(e){return e.split("/").length+1})),o.option.getOrElse(Object(c.constant)(0))),r=t.useHashHistory?Object(c.pipe)(window.location.pathname+window.location.search+window.location.hash,o.string.replace("#","")):window.location.pathname,a=function(){return Object(c.pipe)(r,o.string.split("/"),o.nonEmptyArray.fromReadonlyNonEmptyArray,o.array.dropLeft(n)).join("/")},i=Object(l.useState)(t.routing.parseLocation(a())),u=Object(d.a)(i,2),j=u[0],f=u[1],p=function(){f(t.routing.parseLocation(a()))};Object(l.useEffect)((function(){return window.addEventListener("popstate",p),function(){window.removeEventListener("popstate",p)}}));var b={parseLocation:t.routing.parseLocation,formatLocation:function(e){return Object(c.pipe)(t.basepath,o.option.map((function(e){return"/"+e})),o.option.getOrElse(Object(c.constant)("")))+(t.useHashHistory?"/#":"")+t.routing.formatLocation(e)}};return Object(s.jsx)(e.Provider,{value:o.option.some({routing:b,location:j,setLocation:f}),children:t.children})},useRouter:function(){var t=Object(l.useContext)(e);if(o.option.isNone(t))throw new Error("RouterContext not provided");return{current:t.value.location,navigateTo:function(e){var n=t.value.routing.formatLocation(e);console.log(n),window.history.pushState(null,"",n),window.scrollTo(0,0),t.value.setLocation(e)},back:function(){window.history.back()}}}}}(),pe=fe.RouterProvider,be=fe.useRouter,me=n(78);function Oe(e){for(var t,n,r=e.length,a=Object(me.a)(e);0!==r;)n=Math.floor(Math.random()*r),t=a[r-=1],a[r]=a[n],a[n]=t;return a}function he(e){return function(t){for(var n=0,r=Object(me.a)(t),a=function(){for(var t=n,a=Object(c.pipe)(r,o.array.reduceWithIndex(0,(function(n,r,a){return n>=t?r+e(a):r}))),i=Math.floor(Math.random()*a),l=0,s=n;s<r.length;s++)if((l+=e(r[s]))>i){var u=r[n];r[n]=r[s],r[s]=u}n+=1};n<r.length;)a();return r}}function xe(e,t){switch(t.type){case"startFreshGame":return{view:"selectPlayers"};case"assignRoleToPlayer":var n=function(e){var t=Math.floor(e.length/4)-1,n=Object(c.pipe)(e,Oe),r=[];Object(c.pipe)(n.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(e){return r.push({player:e,role:P.primaryWolf})}))),Object(c.pipe)(n.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(e){return r.push({player:e,role:P.seer})})));for(var a=Object(c.pipe)([P.secondaryWolf,P.youngWolf,P.traitor],he((function(e){return e.fitness}))),i=function(e){Object(c.pipe)(n.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(t){return r.push({player:t,role:a[e]})})))},l=0;l<t;l++)i(l);var s=Object(c.pipe)(P,o.record.filter((function(e){return"seer"!==e.id&&"primaryWolf"!==e.id&&Object(c.pipe)(a,o.array.findFirst((function(t){return t.id===e.id})),o.option.isNone)})),o.record.toArray,he((function(e){return Object(d.a)(e,2)[1].fitness})));return Object(c.pipe)(n,o.array.map((function(e){return Object(c.pipe)(s.pop(),o.option.fromNullable,o.option.fold((function(){}),(function(t){var n=Object(d.a)(t,2)[1];return r.push({player:e,role:n})})))}))),Object(c.pipe)(r,Oe)}(t.payload);return z("gameData",N,{phase:"showRole",playersRole:Object(c.pipe)(n,o.array.map((function(e){return{player:e.player,roleId:e.role.id}})))}),{view:"showRole",playerRoles:n}}}function ye(){var e,t=be(),n=Object(l.useReducer)(xe,Object(c.pipe)(M("gameData",N),o.option.fold(Object(c.constant)({view:"selectPlayers"}),(function(e){return{view:"init",gameData:e}})))),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(s.jsxs)(f.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(p.a,{position:"static",children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return t.navigateTo(re)},children:Object(s.jsx)(h.a,{})}),Object(s.jsx)(f.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"players"})})})]})}),Object(s.jsx)(f.a,{display:"flex",m:2,width:1,flexDirection:"row",alignItems:"center",children:Object(c.pipe)(a,(e={whenInit:function(e){return Object(s.jsx)(S,{open:!0,title:"game.resumeGame.title",content:"game.resumeGame.content",onConfirm:function(){},onCancel:function(){localStorage.removeItem("gameData"),i({type:"startFreshGame"})},confirmLabel:"game.resumeGame.confirm",cancelLabel:"game.resumeGame.cancel"})},whenSelectPlayers:Object(c.constant)(Object(s.jsx)(G,{onNext:function(e){return i({type:"assignRoleToPlayer",payload:e})}})),whenShowRole:function(e){return Object(s.jsx)(Y,{playerRoles:e,onStartGame:function(){}})}},function(t){switch(t.view){case"init":return e.whenInit(t.gameData);case"selectPlayers":return e.whenSelectPlayers();case"showRole":return e.whenShowRole(t.playerRoles)}}))})]})}function ge(){var e=be();return Object(s.jsxs)(f.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(O.a,{variant:"h1",children:Object(s.jsx)(x.a,{id:"appTitle"})}),Object(s.jsx)(f.a,{mt:10,width:1,display:"flex",alignItems:"center",flexDirection:"column",children:Object(s.jsxs)(B.a,{container:!0,item:!0,xs:6,direction:"column",justifyContent:"center",spacing:3,children:[Object(s.jsx)(B.a,{item:!0,children:Object(s.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(ie)},fullWidth:!0,children:Object(s.jsx)(x.a,{id:"game"})})}),Object(s.jsx)(B.a,{item:!0,children:Object(s.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(ae)},fullWidth:!0,children:Object(s.jsx)(x.a,{id:"role"})})}),Object(s.jsx)(B.a,{item:!0,children:Object(s.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){return e.navigateTo(ce)},fullWidth:!0,children:Object(s.jsx)(x.a,{id:"players"})})})]})})]})}var ve=n(216),we=n(228),Ce=n(217),ke=n(98),Se=n.n(ke);var Ee=n(214),We=n(215),Re=n(119),Pe=n.n(Re);function De(e){var t=Object(l.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1];return Object(s.jsxs)(B.a,{item:!0,xs:6,sm:4,md:3,lg:2,children:[Object(s.jsxs)(q.a,{children:[Object(s.jsx)(Ee.a,{}),Object(s.jsx)(V.a,{children:Object(s.jsx)(O.a,{gutterBottom:!0,variant:"h5",children:e.player.name})}),Object(s.jsx)(We.a,{disableSpacing:!0,children:Object(s.jsx)(m.a,{"aria-label":"delete",onClick:function(){return a(!0)},children:Object(s.jsx)(Pe.a,{})})})]}),Object(s.jsx)(S,{open:r,title:"player.delete.confirmDialog.title",content:"player.delete.confirmDialog.content",onConfirm:function(){a(!1),e.onDelete()},onCancel:function(){return a(!1)}})]})}var Ie=n(120),Te=n.n(Ie),Le=n(58),Ae=n(220);function Ne(e){return Object(s.jsx)(Ae.a,{fullWidth:!0,label:e.label,defaultValue:e.placeholder,disabled:e.disabled,onChange:function(t){return e.onChange(t.currentTarget.value)},onBlur:e.onBlur,value:e.value,name:e.name,error:Object(c.pipe)(e.issues,o.option.isSome),helperText:Object(c.pipe)(e.issues,o.option.map((function(e){return Object(c.pipe)(e,o.nonEmptyArray.head)})),o.option.toNullable)})}function _e(){var e,t=Object(Q.a)();return{nonBlankString:(e=t.formatMessage({id:"form.validators.nonBlankString"}),Le.validators.validator(o.either.fromPredicate((function(e){return e.trim().length>0}),Object(c.constant)(e)))),uniqueString:function(e){return function(t){return Le.validators.validator(o.either.fromPredicate((function(e){return Object(c.pipe)(t,o.array.findFirst((function(t){return t===e})),o.option.isNone)}),Object(c.constant)(e)))}}(t.formatMessage({id:"form.validators.uniqueString"})),defined:function(){return Le.validators.defined(t.formatMessage({id:"form.validators.defined"}))},definedNoExtract:function(){return Le.validators.definedNoExtract(t.formatMessage({id:"form.validators.defined"}))}}}function Me(e){var t=Object(Q.a)().formatMessage,n=_e(),a=n.nonBlankString,i=n.uniqueString,c=Object(Le.useFormo)({initialValues:{name:""},fieldValidators:function(){return{name:Le.validators.inParallel(a,i(e.playerNames))}}},{onSubmit:function(t){return o.taskEither.fromIO((function(){return e.onConfirm(t.name)}))}}),l=c.fieldProps,u=c.handleSubmit;return Object(s.jsxs)(y.a,{open:e.open,fullWidth:!0,onClose:e.onCancel,children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(x.a,{id:e.title})}),Object(s.jsx)(v.a,{children:Object(s.jsx)(Ne,Object(r.a)({label:t({id:"player.form.label.name"}),placeholder:""},l("name")))}),Object(s.jsxs)(C.a,{children:[Object(s.jsx)(k.a,{onClick:e.onCancel,color:"primary",children:Object(s.jsx)(x.a,{id:"cancel"})}),Object(s.jsx)(k.a,{onClick:u,color:"primary",children:Object(s.jsx)(x.a,{id:"ok"})})]})]})}var ze=Object(ve.a)((function(e){return Object(we.a)({fab:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}})}));function Be(){var e=ze(),t=be(),n=function(e,t,n){var r=Object(c.pipe)(M(e,t),o.option.getOrElse((function(){return z(e,t,n),n}))),a=Object(l.useState)(r),i=Object(d.a)(a,2),s=i[0],u=i[1];return[s,function(n){return Object(c.pipe)(z(e,t,n),o.either.fold((function(){}),(function(){return u(n)})))}]}("players",W.c(T),[]),r=Object(d.a)(n,2),a=r[0],i=r[1],u=Object(l.useState)(!1),j=Object(d.a)(u,2),h=j[0],y=j[1];return Object(s.jsxs)(f.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(p.a,{position:"static",children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return t.navigateTo(re)},children:Object(s.jsx)(Se.a,{})}),Object(s.jsx)(f.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"players"})})})]})}),Object(s.jsxs)(f.a,{display:"flex",m:2,width:1,flexDirection:"row",alignItems:"center",children:[Object(s.jsx)(B.a,{container:!0,direction:"row",spacing:2,justifyContent:"center",alignItems:"center",children:a.map((function(e){return Object(s.jsx)(De,{player:e,onDelete:function(){return i(Object(c.pipe)(a,o.array.filter((function(t){return t.name!==e.name}))))}})}))}),Object(s.jsx)(Ce.a,{color:"primary","aria-label":"add",className:e.fab,onClick:function(){return y(!0)},children:Object(s.jsx)(Te.a,{})}),h&&Object(s.jsx)(Me,{open:h,title:"player.form.label.title",playerNames:Object(c.pipe)(a,o.array.map((function(e){return e.name}))),onCancel:function(){return y(!1)},onConfirm:function(e){i([].concat(Object(me.a)(a),[{name:e}])),y(!1)}})]})]})}var He=n(225),Fe=n(218),Ge=n(121),qe=n.n(Ge);function Ve(){var e=be(),t=function(){var e=Object(Q.a)().formatMessage;return function(t){switch(t){case"general":return e({id:"faction.general"});case"wolf":return e({id:"faction.wolf"});case"village":return e({id:"faction.village"})}}}();return Object(s.jsxs)(f.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:[Object(s.jsx)(p.a,{position:"static",children:Object(s.jsxs)(b.a,{children:[Object(s.jsx)(m.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return e.navigateTo(re)},children:Object(s.jsx)(Se.a,{})}),Object(s.jsx)(f.a,{display:"flex",width:1,children:Object(s.jsx)(O.a,{variant:"h6",children:Object(s.jsx)(x.a,{id:"role"})})})]})}),Object(s.jsx)(f.a,{display:"flex",width:1,flexDirection:"column",alignItems:"center",children:Object(c.pipe)(I,o.array.map((function(e){return Object(s.jsxs)(He.a,{children:[Object(s.jsx)(Fe.a,{expandIcon:Object(s.jsx)(qe.a,{}),children:Object(s.jsx)(O.a,{children:t(e)})}),Object(s.jsx)(f.a,{m:2,children:Object(s.jsx)(B.a,{container:!0,direction:"row",spacing:2,justifyContent:"center",alignItems:"center",children:Object(c.pipe)(P,o.record.filter((function(t){return t.faction===e})),o.record.toArray,o.array.map((function(e){var t=Object(d.a)(e,2)[1];return Object(s.jsx)(B.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(s.jsx)(X,{role:t},t.id)})})))})})]},e)})))})]})}function Je(){var e,t=be();return Object(c.pipe)(t.current,(e={Home:Object(c.constant)(Object(s.jsx)(ge,{})),Roles:Object(c.constant)(Object(s.jsx)(Ve,{})),Game:Object(c.constant)(Object(s.jsx)(ye,{})),Players:Object(c.constant)(Object(s.jsx)(Be,{}))},function(t){return e[t._tag](t)}))}var Ke=function(){var e=function(){var e=Object(l.useContext)(u);if(o.option.isNone(e))throw new Error("BuildConfigContext not provided");return e.value}();return Object(s.jsx)(pe,{basepath:e.basepath,useHashHistory:!0,routing:de,children:Object(s.jsx)(Je,{})})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,231)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},Qe=n(222),Xe=n(219);function Ye(){return Object(s.jsx)(f.a,{display:"flex",width:1,height:1,alignItems:"center",justifyContent:"center",children:Object(s.jsx)(Xe.a,{})})}function Ze(e){var t=Object(l.useState)(o.option.none),a=Object(d.a)(t,2),i=a[0],u=a[1];return Object(l.useEffect)((function(){var t;Object(c.pipe)((t=e.locale,o.taskEither.tryCatch((function(){switch(t){case"it":return n.e(4).then(n.t.bind(null,232,3)).then((function(e){return Object(r.a)({},e.default)}))}}),W.f)),o.taskEither.map((function(e){return u(o.option.some(e))})))()}),[e.locale]),Object(c.pipe)(i,o.option.fold(Object(c.constant)(Object(s.jsx)(Ye,{})),(function(t){return Object(s.jsx)(Qe.a,{messages:t,locale:e.locale,children:e.children})})))}var $e=n(122),et=W.l({REACT_APP_BASEPATH:Object($e.a)(R.a)},"BuildConfig"),tt=Object(c.pipe)(et.decode(Object({NODE_ENV:"production",PUBLIC_URL:"/wherewolf",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASEPATH:"wherewolf"})),o.either.fold((function(e){throw new Error(Object(_.failure)(e).join("\n"))}),(function(e){return{basepath:e.REACT_APP_BASEPATH}})));i.a.render(Object(s.jsx)(l.StrictMode,{children:Object(s.jsx)(j,Object(r.a)(Object(r.a)({},tt),{},{children:Object(s.jsx)(Ze,{locale:"it",children:Object(s.jsx)(Ke,{})})}))}),document.getElementById("root")),Ue()}},[[168,1,2]]]);
//# sourceMappingURL=main.55979a9c.chunk.js.map